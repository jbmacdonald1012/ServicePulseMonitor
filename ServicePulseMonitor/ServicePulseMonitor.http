@ServicePulseMonitor_HostAddress = http://localhost:5291

### Health Check
GET {{ServicePulseMonitor_HostAddress}}/health

### Swagger
GET {{ServicePulseMonitor_HostAddress}}/swagger

###
### Services API
###

### Get All Services (Paginated - First Page)
GET {{ServicePulseMonitor_HostAddress}}/api/services?pageNumber=1&pageSize=20
Accept: application/json

### Get All Services (Second Page)
GET {{ServicePulseMonitor_HostAddress}}/api/services?pageNumber=2&pageSize=10
Accept: application/json

### Register New Service (Success)
POST {{ServicePulseMonitor_HostAddress}}/api/services
Content-Type: application/json

{
  "serviceName": "Payment Processing Service",
  "baseUrl": "http://localhost:6000",
  "description": "Handles payment transactions and refunds"
}

### Register Service with Minimal Data
POST {{ServicePulseMonitor_HostAddress}}/api/services
Content-Type: application/json

{
  "serviceName": "Minimal Service"
}

### Register Duplicate Service (Should return 409)
POST {{ServicePulseMonitor_HostAddress}}/api/services
Content-Type: application/json

{
  "serviceName": "Payment Processing Service",
  "baseUrl": "http://localhost:6000"
}

### Validation Error - Missing Required Field
POST {{ServicePulseMonitor_HostAddress}}/api/services
Content-Type: application/json

{
  "baseUrl": "http://localhost:6000",
  "description": "Missing service name"
}

### Validation Error - Invalid URL
POST {{ServicePulseMonitor_HostAddress}}/api/services
Content-Type: application/json

{
  "serviceName": "Invalid URL Service",
  "baseUrl": "not-a-valid-url"
}

### Validation Error - Service Name Too Long
POST {{ServicePulseMonitor_HostAddress}}/api/services
Content-Type: application/json

{
  "serviceName": "This is an extremely long service name that exceeds the maximum allowed length of 255 characters and should trigger a validation error when submitted to the API endpoint because the database schema enforces this constraint and we want to catch it before attempting to insert",
  "baseUrl": "http://localhost:7000"
}

### Get Service by ID (verify Location header)
GET {{ServicePulseMonitor_HostAddress}}/api/services/4

### Get Non-Existent Service (Should return 404)
GET {{ServicePulseMonitor_HostAddress}}/api/services/9999

### Update Service
PUT {{ServicePulseMonitor_HostAddress}}/api/services/1
Content-Type: application/json

{
  "serviceName": "User Service",
  "baseUrl": "http://localhost:5001",
  "description": "Updated: Handles user authentication and authorization"
}

### Update Service - Duplicate Name (Should Fail with 409)
PUT {{ServicePulseMonitor_HostAddress}}/api/services/1
Content-Type: application/json

{
  "serviceName": "Order Service",
  "baseUrl": "http://localhost:5001"
}

### Delete Service (Use a test service ID)
DELETE {{ServicePulseMonitor_HostAddress}}/api/services/4

### Search Services by Name
GET {{ServicePulseMonitor_HostAddress}}/api/services/search?q=User
Accept: application/json

### Search Services - Empty Query (Should Fail)
GET {{ServicePulseMonitor_HostAddress}}/api/services/search?q=
Accept: application/json

### Get Service Health Summary
GET {{ServicePulseMonitor_HostAddress}}/api/services/1/health
Accept: application/json

###
### Health Check Endpoints
###

### Submit Healthy Health Check
POST {{ServicePulseMonitor_HostAddress}}/api/services/1/healthchecks
Content-Type: application/json

{
  "status": "Healthy",
  "responseTimeMs": 45,
  "details": {
    "cpu": 23.5,
    "memory": 512,
    "activeConnections": 42
  }
}

### Submit Degraded Health Check
POST {{ServicePulseMonitor_HostAddress}}/api/services/1/healthchecks
Content-Type: application/json

{
  "status": "Degraded",
  "responseTimeMs": 250,
  "details": {
    "cpu": 75.0,
    "memory": 1800,
    "warning": "High CPU usage"
  }
}

### Submit Unhealthy Health Check
POST {{ServicePulseMonitor_HostAddress}}/api/services/2/healthchecks
Content-Type: application/json

{
  "status": "Unhealthy",
  "responseTimeMs": 5000,
  "details": {
    "error": "Database connection failed",
    "lastSuccess": "2026-01-31T14:00:00Z"
  }
}

### Submit Minimal Health Check (No Details)
POST {{ServicePulseMonitor_HostAddress}}/api/services/1/healthchecks
Content-Type: application/json

{
  "status": "Healthy"
}

### Validation Error - Invalid Status
POST {{ServicePulseMonitor_HostAddress}}/api/services/1/healthchecks
Content-Type: application/json

{
  "status": "Unknown",
  "responseTimeMs": 50
}

### Validation Error - Negative Response Time
POST {{ServicePulseMonitor_HostAddress}}/api/services/1/healthchecks
Content-Type: application/json

{
  "status": "Healthy",
  "responseTimeMs": -10
}

### Submit to Non-Existent Service
POST {{ServicePulseMonitor_HostAddress}}/api/services/9999/healthchecks
Content-Type: application/json

{
  "status": "Healthy"
}

### Get Health Check by ID
GET {{ServicePulseMonitor_HostAddress}}/api/healthchecks/1

### Get Recent Health Checks for Service
GET {{ServicePulseMonitor_HostAddress}}/api/services/1/healthchecks?limit=5

### Get Latest Health Check for Service
GET {{ServicePulseMonitor_HostAddress}}/api/services/1/healthchecks/latest

### Get Health Checks by Status (Unhealthy)
GET {{ServicePulseMonitor_HostAddress}}/api/healthchecks/status/Unhealthy?limit=10

### Get Health Checks by Status (Healthy)
GET {{ServicePulseMonitor_HostAddress}}/api/healthchecks/status/Healthy?limit=20

### Get All Health Checks (First Page)
GET {{ServicePulseMonitor_HostAddress}}/api/healthchecks?limit=10&offset=0

### Get All Health Checks (Second Page)
GET {{ServicePulseMonitor_HostAddress}}/api/healthchecks?limit=10&offset=10

### Invalid Limit (Too High)
GET {{ServicePulseMonitor_HostAddress}}/api/healthchecks?limit=500

### Invalid Status Filter
GET {{ServicePulseMonitor_HostAddress}}/api/healthchecks/status/InvalidStatus
